apiVersion: v1
kind: ConfigMap
metadata:
  name: majordomo-gateway-config
data:
  majordomo.yaml: |
    server:
      host: "0.0.0.0"
      port: 7680
      read_timeout: 30s
      write_timeout: 120s

    storage:
      driver: postgres
      postgres:
        host: majordomo-postgres
        port: 5432
        user: majordomo
        database: majordomo
        sslmode: disable
        max_conns: 20

    logging:
      store_request_body: false
      store_response_body: false
      max_body_size: 65536
      body_storage: "none"

    s3:
      enabled: false

    pricing:
      remote_url: "https://www.llm-prices.com/current-v1.json"
      refresh_interval: 1h
      fallback_file: "./pricing.json"
      aliases_file: "./model_aliases.json"

    providers:
      openai:
        base_url: "https://api.openai.com"
      anthropic:
        base_url: "https://api.anthropic.com"
      gemini:
        base_url: "https://generativelanguage.googleapis.com"
      bedrock:
        region: "us-east-1"
